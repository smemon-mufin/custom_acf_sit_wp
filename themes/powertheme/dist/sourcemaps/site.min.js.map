{"version":3,"sources":["site.js"],"names":["document","documentElement","className","replace","jQuery","ready","$","lazyLoadImages","init","each","dataSrc","$this","this","delay","data","setTimeout","css","attr","objParams","window","location","search","split","map","val","arrPair","decodeURIComponent","on","e","preventDefault","target","hash","$target","stop","animate","scrollTop","offset","top","find","hasClass","next","slideToggle","toggleClass","keyup","dataset","mask","x","value","match","console","log","$formInputs","$formSelectMenus","checkInput","parent","addClass","removeClass","setFilled","$input","removeFilled","type","$parent","$lightbox","$lightbox_content","iframe","html","content","classes","closeLightbox","click","stopPropagation","closest","empty","$text","text","innerWidth","ajax","dataType","url","success","response","append","length","remove","ajaxPosts"],"mappings":"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","file":"../site.min.js","sourcesContent":["document.documentElement.className = document.documentElement.className.replace(/\\bno-js\\b/g,\"\")+\"js\"\r\n\r\njQuery(document).ready(function ($) {\r\n\r\n/*-----------------------------------------------------------------------------GLOBAL ON LOAD----*/\r\n\t\r\n\t//Load images, and images after doc ready\r\n    var lazyLoadImages = (function () {\r\n\t\tfunction init(){\r\n\t\t\tvar lazyImages = $('img[data-src], iframe[data-src], [data-background]');\r\n\t\t\tlazyImages.each(function () {\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\tdelay = 0,\r\n\t\t\t\t\tdataSrc;\r\n\t\t\t\tif( dataSrc = $this.data('background') ){\r\n\t\t\t\t\tif ($this.data('background-delay')) {\r\n\t\t\t\t\t\tdelay = $this.data('background-delay');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t$this.css('background-image', 'url(' + dataSrc + ')');\r\n\t\t\t\t\t\t$this.attr('data-background', null);\r\n\t\t\t\t\t}, delay);\r\n\t\t\t\t}else if( dataSrc = $this.data('src') ){\r\n\t\t\t\t\tif ($this.data('src-delay')) {\r\n\t\t\t\t\t\tdelay = $this.data('src-delay');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t$this.attr('src', dataSrc);\r\n\t\t\t\t\t\t$this.attr('data-src', null);\r\n\t\t\t\t\t}, delay);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tinit();\r\n\t\treturn { init:init }\r\n    }());\r\n\r\n\t//Global function to grab parameters from url\r\n    var urlParams = (function (strParam) {\r\n\t\tvar objParams = {};\r\n\t\tfunction init(){\r\n\t\t\tobjParams = {};\r\n\t\t\tvar arrURLParams = window.location.search.replace('?', '').split('&');\r\n\t\t\tarrURLParams.map(function (val) {\r\n\t\t\t\tvar arrPair = val.split('=');\r\n\t\t\t\tobjParams[arrPair[0]] = decodeURIComponent(arrPair[1]);\r\n\t\t\t});\r\n\t\t}\r\n\t\tinit();\r\n\t\treturn {\r\n\t\t\tget: function (strParam) { return objParams[strParam]; },\r\n\t\t\tpull: init\r\n\t\t}\r\n\t}());\r\n\r\n\t//Global function to smooth scroll inside pages\r\n\t//Should upgrade to smooth scroll when page with id is visited\r\n    var smoothScroll = (function () {\r\n        $('a[href^=\"#\"]').on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            var target = this.hash;\r\n            if (target === \"\") { return; }\r\n\r\n            var $target = $(target);\r\n\r\n            $('html, body').stop().animate({\r\n                'scrollTop': $target.offset().top\r\n            }, 1200, 'swing', function () {\r\n                //window.location.hash = target;\r\n            });\r\n        });\r\n    }());\r\n\r\n\t//Global function to toggle simple accordions\r\n\tvar Accordions = (function () {\r\n        var $accordions = $('.accordion');\r\n        $accordions.each(function () {\r\n            $this = $(this).find('.accordion__trigger');\r\n            if ($this.hasClass('active')) {\r\n                $this.next().slideToggle(250);\r\n            }\r\n        });\r\n        $(document).on('click', '.accordion__trigger', function () {\r\n            var $this = $(this);\r\n            $this.toggleClass('active');\r\n            $this.next().slideToggle(250);\r\n        });\r\n    }());\r\n\t\r\n\t//\r\n\tvar InputMasks = (function () {\r\n        $('[data-mask]').keyup(function (e) {\r\n            switch (this.dataset.mask) {\r\n                case 'phone':\r\n                    var x = this.value.replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n                    console.log(x);\r\n                    this.value = !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n                    break;\r\n                case 'ssn': {\r\n                    var x = this.value.replace(/\\D/g, '').match(/^(\\d{0,3})(\\d{0,2})(\\d{0,4})/);\r\n                    this.value = !x[2] ? x[1] : x[1] + '-' + x[2] + '-' + x[3];\r\n                }\r\n            }\r\n        });\r\n    }());\r\n\t\r\n\t//Plugin used for form validation\r\n    var parselyOptions = {\r\n        classHandler: function (parsleyField) {\r\n            var $element = parsleyField.$element;\r\n            if ($element.parent().hasClass('select-menu')) {\r\n                return $element.parent();\r\n            }\r\n            return $element;\r\n        },\r\n        errorsContainer: function (parsleyField) {\r\n            var $element = parsleyField.$element;\r\n            var $fieldContainer = $element.closest('.form-field');\r\n            if ($fieldContainer) {\r\n                return $fieldContainer;\r\n            }\r\n        }\r\n    };\r\n\r\n\t//Global function to set form state classes\r\n    var formStates = (function () {\r\n        $formInputs = $('main form :input');\r\n        $formSelectMenus = $('.select-menu select, .ginput_container_select select');\r\n\r\n        function setFilled($input) {\r\n            $input.addClass('filled');\r\n        }\r\n        function removeFilled($input) {\r\n            $input.removeClass('filled');\r\n        }\r\n        function setFocused($input) {\r\n            $input.addClass('focused');\r\n        }\r\n        function removeFocused($input) {\r\n            $input.removeClass('focused');\r\n        }\r\n\r\n        function checkInput(e) {\r\n            if (this.type == 'button' ||\r\n                this.type == 'range' ||\r\n                this.type == 'submit' ||\r\n                this.type == 'reset') { return; }\r\n\r\n            var $this = $(this);\r\n            var $parent = $this.parent();\r\n            var is_selectMenu = $parent.hasClass('select-menu') || $parent.hasClass('ginput_container_select');\r\n\r\n            var $input = is_selectMenu ? $parent : $this;\r\n\r\n            console.log(this.type);\r\n\r\n            switch (this.type) {\r\n                case 'select-one':\r\n                case 'select-multiple':\r\n                    if (this.value !== '') {\r\n                        setFilled($input);\r\n                    } else {\r\n                        removeFilled($input);\r\n                    }\r\n                    break;\r\n                default:\r\n                    if (this.value) {\r\n                        setFilled($input);\r\n                    } else {\r\n                        removeFilled($input);\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        $formInputs.each(checkInput);\r\n        $formInputs.on('change', checkInput);\r\n        $formSelectMenus.on('focus', function () {\r\n            $(this).parent().addClass('focused');\r\n        });\r\n        $formSelectMenus.on('blur', function () {\r\n            $(this).parent().removeClass('focused');\r\n        });\r\n\r\n    }());\r\n\t\r\n\t//Global function top open / close lightboxes\r\n\tvar PDMLightbox = (function () {\r\n\t\t\r\n\t\t//Lightbox reset - This lightbox is empty and present on all pages\r\n        var $lightbox = $('.pdm-lightbox--reset');\r\n\t\t//it's content can be filled from various sources\r\n\t\t//after close, the content is wiped\r\n        var $lightbox_content = $('.pdm-lightbox--reset .pdm-lightbox__content');\r\n\t\t\r\n\r\n        $('body').on('click','[data-lightbox-iframe],[data-lightbox-content],[data-lightbox-target],.lightbox-trigger',function (e) {\r\n\t\t\t\r\n\t\t\te.preventDefault();\r\n\t\t\t\r\n            var iframe = $(this).data('lightbox-iframe');\r\n\t\t\t\r\n            if (iframe) { \r\n            \t$lightbox_content.html('<div class=\"iframe-wrap\">' + iframe + '</div>');\r\n\t\t\t}else{\r\n\t\t\t\tif( $(this).data('lightbox-content') ){\r\n\t\t\t\t\tvar content = $(this).data('lightbox-content');\r\n\t\t\t\t}else if( $(this).data('lightbox-target') ){\r\n\t\t\t\t\tvar target = $(this).data('lightbox-target');\r\n\t\t\t\t\tvar content = $('#'+target).html();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar content = $(this).next('.lightbox-content').html();\r\n\t\t\t\t}\r\n\t\t\t\t$lightbox_content.html(content);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar classes = $(this).data('lightbox-classes');\r\n\t\t\t$lightbox.addClass('active').addClass(classes);\r\n\t\t\t\r\n        });\r\n\r\n\t\tfunction closeLightbox( $lightbox ){\r\n\t\t\t$lightbox.removeClass('active');\r\n\t\t\t$('body').removeClass('noScroll');\r\n\t\t\t//wait before removing classes till lightbox closses\r\n\t\t\tif( $lightbox.hasClass('pdm-lightbox--reset') ){\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t$lightbox.find('.pdm-lightbox__content').empty();\r\n\t\t\t\t\t$lightbox.attr('class', 'pdm-lightbox pdm-lightbox--reset');\r\n\t\t\t\t},750);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n        $('.pdm-lightbox').on('click', function (e) {\r\n\t\t\tvar $lightbox = $(this);\r\n            if (e.target == this) {\r\n\t\t\t\tcloseLightbox($lightbox);\r\n            }\r\n        });\r\n\r\n        $('.pdm-lightbox__close').click(function (e) {\r\n            e.stopPropagation();\r\n            $lightbox = $(this).closest('.pdm-lightbox');\r\n\t\t\tcloseLightbox($lightbox);\r\n        });\r\n        return {\r\n            close: closeLightbox\r\n        };\r\n    }());\r\n\r\n    var Header = (function () {\r\n\r\n        var BurgerMenu = (function () {\r\n\t\t\t\r\n            $('.ham-btn').click(function () {\r\n                var $this = $(this);\r\n                var $text = $this.find('button');\r\n\r\n                if ($this.hasClass('active')) {\r\n                    $this.removeClass('active');\r\n                    $text.text('Menu');\r\n                } else {\r\n                    $this.addClass('active');\r\n                    $text.text('Close Menu');\r\n                }\r\n\r\n                if (window.innerWidth <= 720) {\r\n                    $('body').toggleClass('no-scroll');\r\n                }\r\n\t\t\t\t\r\n\t\t\t\t$('.gheader nav.global').addClass('active');\r\n\t\t\t\t\r\n            });\r\n\t\t\t\r\n        }());\r\n\r\n    }());\r\n\r\n    var loadMorePosts = (function () {\r\n\r\n        $('.load-more-container').on('click', '.load-more-btn a', function (e) {\r\n            e.preventDefault();\r\n            $(this).addClass('loading');\r\n            var target = $(this).attr('href');\r\n            ajaxPosts(target, false);\r\n\r\n        });\r\n\r\n        function ajaxPosts(target, replace) {\r\n            $.ajax({\r\n                type: 'GET',\r\n                dataType: 'html',\r\n                url: target,\r\n                success: function (response) {\r\n//\t\t\t\t\tconsole.log(response);\r\n                    if (replace == true) {\r\n                        $('.load-more-container .container').html($(response).find('.load-more-container').html());\r\n                    } else {\r\n                        $('.load-more-container .container').append($(response).find('.load-more-container article'));\r\n                    }\r\n\r\n                    if ($(response).find('.load-more-btn').length) {\r\n                        if ($('.load-more-btn').length) {\r\n                            $('.load-more-btn').html($(response).find('.load-more-btn').html());\r\n                        }\r\n                    } else {\r\n                        if ($('.load-more-btn').length) {\r\n                            $('.load-more-btn').remove();\r\n                        }\r\n                    }\r\n\r\n                    lazyLoadImages.init();\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\t$('.load-more-container').removeClass('loading');\r\n\t\t\t\t\t\tlazyLoadImages.init();\r\n\t\t\t\t\t},250);\r\n                }\r\n            });\r\n        }\r\n    }());\r\n\r\n});"]}